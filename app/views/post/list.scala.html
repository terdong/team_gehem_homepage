@import com.teamgehem.model.BoardInfo
@import com.teamgehem.model.BoardSearchInfo
@import com.teamgehem.model.BoardPaginationInfo
@(board_name: String, posts: Seq[(Post, String, Int)], pagination_info: BoardPaginationInfo, route: Int => Call, board_seq:Option[Long] = None, search_info: Option[BoardSearchInfo] = None)(implicit request: MessagesRequest[AnyContent], messagesProvider: MessagesProvider, board_list: Option[Seq[BoardInfo]])
@scripts = {
    <script src="@routes.Assets.versioned("javascripts/click_event.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/search_event.js")" type="text/javascript"></script>
}
@main("list", "board", scripts = scripts) {

    @tags.tag_board_list(board_name)

    @tags.tag_table_layout(Messages(s"board.${board_name}")) {
        <tr>
            <th class="col-md-1">#</th>
            <th class="col-md-6">제목</th>
            <th class="col-md-2">작성자</th>
            <th class="col-md-2">작성일</th>
            <th class="col-md-1">조회수</th>
        </tr>
    } {
        @for(p <- posts) {
            @defining(p._1) { post =>
                @defining(p._2) { member_name =>
                    <tr url= @{
                        routes.PostController.read(post.board_seq, post.seq, pagination_info.current_page)
                    }>
                        <th scope="row">
                        @{
                            post.seq
                        }
                        </th>
                        <td>
                            @{
                                post.subject
                            } @if(p._3 > 0) {
                            <span class="badge badge-info">@p._3</span>
                        }
                        </td>
                        <td>
                        @{
                            member_name
                        }
                        </td>
                        <td>
                        @{
                            post.write_date.toString.split('.')(0)
                        }
                        </td>
                        <td>
                        @{
                            post.hit_count
                        }
                        </td>
                    </tr>
                }
            }
        }
    }

    @includes.search(pagination_info.current_page, board_seq, search_info)

    @tags.tag_paginate(pagination_info, route, board_seq)
}